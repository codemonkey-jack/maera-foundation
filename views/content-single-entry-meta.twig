{% set parts_serialized = theme.theme_mod('meta_config', function('serialize', ['date','category','author','comments'] ) ) %}
{% set parts = function('maybe_unserialize', parts_serialized) %}

<div class="{% if layout == '0' %}container {% endif %}entry-meta">

{% for part in parts %}

	{% if part == 'date' %}
		{% if function('get_the_time', 'U', post) is same as(post.get_modified_time('U')) %}
			<time class="entry-date published" datetime="{{ post.date('c') }}">
				<span itemprop="datePublished">{{ post.date }}</span>
			</time>
		{% else %}
			<time class="updated" datetime="{{ post.modified_date('c') }}">
				<span itemprop="datePublished">{{ post.modified_date }}</span>
			</time>
		{% endif %}
	{% endif %}

	{% if part == 'category' %}
		{{ __( 'under', 'maera' ) }}
		{% for category in post.get_categories %}
			<a href="{{ category.get_path }}" itemprop="articleSection">{{ category.name }}</a>{% if not loop.last %}, {% endif %}
		{% endfor %}
	{% endif %}

	{% if part == 'author' %}
		<span class="byline">{{ __( 'by', 'maera_zf' ) }} <span class="author vcard"><a class="url fn n" href="{{ post.author.link }}">{{ post.author.name }}</a></span></span>
	{% endif %}

	{% if part == 'comments' %}
		{% if post.comments %}{{ __( 'with', 'maera_zf' ) }} <a href="{{ post.link }}#comments">{{ post.comment_count }} {{ __( 'comments', 'maera' ) }}</a>{% endif %}
	{% endif %}

	{% if part == 'tags' %}
		{% if post.terms('tags') %}
		{{ __( 'tags', 'maera_zf' ) }}
			<span class="post-meta-element tags">
				{% for tag in post.terms('tags') %}
					<a class="label secondary" href="{{ tag.link }}">{{ tag.name }}</a>&nbsp;
				{% endfor %}
			</span>
		{% endif %}
	{% endif %}

	{% if part == 'sticky' %}
		{% if function('is_sticky') %}
			<span class="post-meta-element sticky">
				<strong>{{ __( '*Sticky', 'maera_zf' ) }}</strong>
			</span>
		{% endif %}
	{% endif %}

{% endfor %}

</div>
